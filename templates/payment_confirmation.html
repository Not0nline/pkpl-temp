{% extends 'base.html' %}

{% block title %}Confirm Payment - Tibib{% endblock %}

{% block content %}
<div class="payment-confirmation-container">
    <div class="card">
        <div class="card-header">
            <h2>Confirm Your Investment</h2>
        </div>
        <div class="card-body">
            <div class="alert alert-info">
                <p>Please review your investment details before proceeding.</p>
            </div>
            
            <div class="investment-details">
                <div class="row mb-3">
                    <div class="col-md-4">
                        <strong>Investment Amount:</strong>
                    </div>
                    <div class="col-md-8">
                        Rp {{ nominal|floatformat:2 }}
                    </div>
                </div>
                
                <div class="row mb-3">
                    <div class="col-md-4">
                        <strong>Reksadana Product ID:</strong>
                    </div>
                    <div class="col-md-8">
                        {{ reksadana_id }}
                    </div>
                </div>
                
                <div class="row mb-3">
                    <div class="col-md-4">
                        <strong>User ID:</strong>
                    </div>
                    <div class="col-md-8">
                        {{ user_id }}
                    </div>
                </div>
            </div>
            
            <hr>
            
            <div class="payment-options">
                <h4>Payment Method</h4>
                <form method="POST" action="{% url 'process_payment' %}">
                    {% csrf_token %}
                    <input type="hidden" name="id_reksadana" value="{{ reksadana_id }}">
                    <input type="hidden" name="nominal" value="{{ nominal|floatformat:0 }}">
                    <input type="hidden" name="user_id" value="{{ user_id }}">
                    
                    <div class="form-group mb-3">
                        <select class="form-control" name="payment_method" required>
                            <option value="">Select Payment Method</option>
                            <option value="bank_transfer">Bank Transfer</option>
                            <option value="virtual_account">Virtual Account</option>
                            <option value="e_wallet">E-Wallet</option>
                        </select>
                    </div>
                    
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-primary">Confirm and Pay</button>
                        <a href="{% url 'index' %}" class="btn btn-outline-secondary">Cancel</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<style>
.payment-confirmation-container {
    max-width: 800px;
    margin: 40px auto;
    padding: 0 15px;
}
.investment-details {
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 5px;
    margin-bottom: 20px;
}
</style>
{% endblock %}